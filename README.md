# The Long Run: Lifetime Mileage Estimator

> **⚠️ AI GENERATION DISCLAIMER**
> 
> This entire repository—including the statistical modeling, Python code, HTML/CSS/JS web content, chart visualizations, and this README—was **100% generated by Google's Antigravity agentic system**.
> 
> The repository owner provided high-level direction, constraints, and data sources via natural language prompts. The AI performed the data search, mathematical formulation, coding, and writing.

## Project Overview

This project is a statistical experiment to estimate the distribution of **lifetime running miles** for the global population aged 16 to 80. 

Most running apps focus on daily or weekly metrics. This model zooms out to the scale of decades, attempting to answer: *How many miles does a human actually run in a lifetime?*

The core output is a **Hierarchical Bayesian Gaussian Mixture Model** that segments the population into three latent groups ("Non-Runners," "Casual Runners," and "Core Runners") to predict lifetime volume accumulation.

## The Experiment

This repository serves as a case study in **AI-assisted data science and web development**. The goal was to see if an LLM could build a scientifically grounded statistical model from scratch using only conversational prompts.

### The Process
The workflow followed an iterative loop:
1.  **Conceptualization:** Defined the problem (lifetime mileage distribution).
2.  **Data Search:** The AI searched for polling data (Strava, Running USA, CDC) to establish priors.
3.  **Modeling:** The AI constructed a Python simulation using **PyMC** (MCMC sampling) to fit a Hierarchical Bayesian Model against specific "anchors" (e.g., the "Herron Limit" for maximum possible mileage).
4.  **Visualization:** The AI generated Matplotlib/Seaborn charts for the Probability Density Functions (PDF) and Cumulative Distribution Functions (CDF).
5.  **Publication:** The AI wrote a full-length blog post in HTML, embedding the parameters into JavaScript to create interactive calculators.

## Repository Contents

*   **`lifetime_model.py`**: The Python script that runs the Monte Carlo simulation (50,000 iterations), fits the hierarchical loss function to constrain parameters, and generates the static image assets.
*   **`index.html`**: A standalone HTML file containing the long-form analysis and the **interactive calculators**. The JavaScript within this file contains the fitted parameters derived from the Python simulation, allowing users to calculate their percentile rank client-side.
*   **`conda_env.yml`**: The Conda environment definition containing all dependencies (PyMC, Arviz, Seaborn, etc.).
*   **`*_updated.png` / `*_final.png`**: Visualizations of the posterior distributions generated by the model.

## Data Sources & Methodology

This model is constrained by a "distributional skeleton" of real-world data points, rather than a single theoretical curve. Explicit anchors include:

*   **Strava Year in Sport 2024**: Used to constrain the "Casual" runner demographics.
    *   *Gen Z Average*: ~6 miles/week.
    *   *Boomer Average*: ~9 miles/week.
*   **Running USA National Runner Survey**: Used to anchor the "Dedicated" runner component.
    *   *Core Runner Average*: 35.0 miles/week.
*   **American Time Use Survey (ATUS) 2024**: Used to model the Gender Activity Gap.
    *   *Observation*: Men spend ~1.5x more time on daily sports/exercise than women (23 vs 15 mins/day). This factor is modeled as a latent `beta_gender` shift in the Bayesian model.
*   **RunRepeat & Academic Studies**: Used for race-specific recreational anchors.
    *   *Female Short Distance (<21k)*: ~16.8 miles/week.
    *   *Male Marathoner*: ~37 miles/week.

## Model Structure

The model posits that lifetime mileage $M$ at age $t$ is defined by a mixture of Log-Normal distributions, shifted by a latent Gender Factor $G$:

$$ P(M | t) = \pi_{N} \delta(0) + \pi_{C} \mathcal{LN}(M; \mu_C(t), \sigma_C^2) + \pi_{R} \mathcal{LN}(M; \mu_R(t), \sigma_R^2) + \pi_{D} \mathcal{LN}(M; \mu_D(t), \sigma_D^2) $$

Where:
*   $\pi$ represents the mixture weights (Non-Runner, Casual, Recreational, Dedicated).
*   $\mathcal{LN}$ represents Log-Normal distributions for active runners.
*   Parameters were optimized using a loss function against real-world anchors (e.g., median annual volumes and extreme tail probability constraints).

## Usage

To reproduce the simulation and generate the charts:

1.  Create and activate the environment:
    ```bash
    conda env create -f conda_env.yml
    conda activate the_long_run
    ```
2.  Run the script:
    ```bash
    python lifetime_model.py
    ```
3.  View the report:
    Open `index.html` in any modern web browser.
